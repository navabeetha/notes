<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Currency - Parts of the Whole</title>
  <meta name="description" content="Create Simple Visualisation Charts with Markdown">

  <script src="lib/vega.min.js"></script>
  <script src="lib/vega-lite.min.js"></script>
  <script src="lib/vega-embed.min.js"></script>
  <script src="lib/marked.min.js"></script>
  <script src="lib/yaml.min.js"></script>

  <style>
    /* previous formatting for the visdown inout and outputs */
    #visdown-output {max-width: 900px; margin: 0 auto;}
    #visdown-input {display: none;}
    
    /* initial formatting */
    body {width: 900px ; margin: 0 auto; font-family: Trebuchet MS; background-color: #E7E3CD}
    h1 {font-size: 48px; color: darkslateblue; font-weight: bold; font-style: italic}
    h2 {font-size: 22px; color: darkslateblue}
    h3 {font-size: 18px; color: dimgray}
    p {font-size: 14px; color: dimgray}
    li {font-size: 14px; color: dimgray}
      
    /* trying to format the subsequent non-visualization elements 
    #visdown-output h1 {font-size: 24px}
    #visdown-output h2 {font-size: 18px}
    #visdown-output p {font-size: 12px}
    #visdown-output li {font-size: 12px} */

  </style>  
</head>
<body>

<h1>SYNECDOCHE :<br/>One as part of the Whole</h1>
<h2>Finding out the contribution of individual denominations</h2>
<p>-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<br/>
<h3>Step 1 : Plotting "Money" and "Number" for all Denominations</h3>    
    
<p>The first table works with three axes:</p>
<ol> 
    <li>X Axis:       Plots the year.</li>
    <li>Y Axis Left:  Plots the number of notes in 'millions'.</li>
    <li>Y Axis Right: Plots the amount of money (value of notes X number of notes) in 'billions'.</li>
</ol>

<p>The chart comprises of three layers:</p>
<ol>
    <li>Bar Chart:    Plotting the amount of money.</li>
    <li>Line Chart:   Plotting the number of notes.</li>
    <li>Scatter Plot: Again, plotting the number of notes; this is a repeat of the above line chart.
                      As the colour of the line chart merges with the colour of the bar chart,
                      I decided to add a layer of points in order to increase visibility.</li>
</ol>
<br/>

<!-- visdown part starts here -->    
<div id="visdown-input">
    
```vis
width: 750
height: 450
data:
  url: data/notes.csv
layer:
- mark: bar
  encoding:
    x:
     field: year
     type: N
     axis:
      title: "Year"
    y:
     field: number
     type: Q
     axis:
      grid: false
      orient: left
      title: "Number of notes in Billions (Bar Chart)"
    color:
     field: denom
     type: N
- mark: line
  encoding:
    x:
     field: year
     type: N
    y:
     scale:
      type: sqrt
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Amount of Money in Circulation in Biliions (Line Chart)"
    color:
     field: denom
     type: N
     legend:
      title: "Denomination"
- mark: point
  encoding:
    x:
     field: year
     type: N
    y:
     scale:
      type: sqrt
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Amount of Money in Circulation in Biliions (Line Chart)"
     size:
      value: 10
resolve:
  scale:
   y: independent
```
    
<h2>### Step 2: Highlighting a Denomination</h2>
    
<p>In the above graph, it is difficult to identify the contributions of individual denominations to:</p>

   1. The total number of notes in circulation
   2. The amount of money in circulation (money = number x value)
   
<p>Below are charts comparing 1. on the left and 2. on the right.</p> 

<br/>    
<h2>### Rs 1</h2>
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 1 ? "Rs 1" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```

<br/>    
<h2>### Rs 2</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 2 ? "Rs 2" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```
    
<br/>    
<h2>### Rs 5</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 5 ? "Rs 5" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```
    
<br/>    
<h2>### Rs 10</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 10 ? "Rs 10" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```    

<br/>    
<h2>### Rs 50</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 50 ? "Rs 50" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```
    
<br/>    
<h2>### Rs 100</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 100 ? "Rs 100" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```    
    
<br/>    
<h2>### Rs 500</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 500 ? "Rs 500" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```
    
<br/>    
<h2>### Rs 1000</h2>    
```vis
data:
  url: data/notes.csv
transform:
- calculate: 'datum.value == 1000 ? "Rs 1000" : "Rest Combined"'
  as: "Partial Contribution"
hconcat:
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: money
     type: Q
     axis:
      grid: false
      orient: right
      title: "Sum of Money in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
- mark: area
  width: 350
  encoding:
    x:
     field: year
     type: temporal
     axis:
      title: "Year"
      tickCount: 10
      labelAngle: -45
    y:
     aggregate: sum
     field: number
     type: Q
     axis:
      grid: false
      orient: right
      title: "Number of Notes in Billions"
    color:
     field: "Partial Contribution"
     type: N
     scale:
       range:
       - "#ff99cc"
       - "#66ccff"
```    
    
    
    
<h2>### Step 3: Some Analysis</h2>
    
<p>There being no predecided narrative, all the author can offer is a basic analysis of what can possibly be inferred from the above charts.</p>

   1. Low Denominations - Rs. 1, 2, 5 - 
      The number of notes of Rs. 1 have remained more or less the same from 1977 to 2015. Rs. 2 and Rs. 5 seem to have had minor fluctuations in number, while increasing marginally overall. However due to the low value of these denominations, they seem to have had no visible effect on the amount of money in circulation.
    
   2. The Curious Case of Rs. 10 -
      Starting in 1996 and again around 2005, the number of notes of Rs. 10 have seen a steady rise. In fact as of 2015, it constitutes approximately 30%+ of all the notes in circulation and has more or less had the same share since at least 1977.
      Despite the higher value of these notes, they have had no impact on thee overall money; to understand this phenomenon, we might have to look at the Highest Denominations - Rs. 500 and Rs. 1000.
    
   3. Higher Denominations - Rs. 50, 100 -
      These two denominations are unremarkable in their contributions to both the number of notes as well as the amount of money in circulation.
    
   4. Highest Denominations - Rs. 500, 1000 -
      Rs. 500 was introduced in 1987 and Rs. 1000 in 2000. In terms of number if notes, neither have increased or decreased abnormally. However due to the significantly higher value of these notes, they have come to represent about 50% and 30% of the amount of money in circulation.
      Assuming the authorities had some method to check if notes come back to banks in regular intervals and found that most were not actively being used, it would make sense that that Government would choose to target these two denominations for Demonetization. High Denomination notes are ideal for storing large sums of money and hence it would make sense to hoard large amounts untaxed money using these.
          
<p>Without taking any sides in the debate around Demonetization, it is clear that Rs. 500 and Rs. 1000 notes have had a huge impact on our usage of currency. With the introduction of the new Rs. 2000 note just after the Demonetization, one will have to wait for further data to understand the impact each note in this new era.</p>

    
   
    
</div>
<div id="visdown-output"></div>
<script src="visdown.js"></script>

<br/>
<br/>    
<p>-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<br/>    
<br/>     
    
</body>
</html>
